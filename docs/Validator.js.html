<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Validator.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Validator.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>class Validator {
  constructor() {
    this.validatorFunctions = {
      dataType: this.dataTypeCheck,
      isRequired: this.isRequiredCheck,
      minValue: this.minCheck,
      maxValue: this.maxCheck
      // min: this.checkMinMaxTest('min')
    }
  }

  /**
   *
   * @param objProp
   * @param objPropKey
   * @returns {boolean}
   */
  isRequiredCheck({ objProp, objPropKey }) {
    if (objProp) return true
    throw new Error(`${objPropKey} cannot be empty!`)
  }

  /**
   *
   * @param validateParams
   * @returns {boolean}
   */
  dataTypeCheck(validateParams) {
    const { objProp, ruleValue, objPropKey } = validateParams
    if (Array.isArray(objProp) &amp;&amp; ruleValue === 'array') return true
    if (typeof objProp === ruleValue) return true
    throw new Error(`${objPropKey} type isn't type that was declared in rules`)
  }

  /**
   *
   * @param objProp
   * @param dataType
   * @param objPropKey
   * @returns {*}
   */
  valueDeterminator = (objProp, dataType, objPropKey) => {
    const map = {
      string: objProp &amp;&amp; objProp.length,
      array: objProp &amp;&amp; objProp.length,
      number: objProp
    }
    return map[dataType]
    throw new Error(
      `Current ${objPropKey} cannot have minimum or maximum value`
    )
  }

  minCheck = (validateParams) => {
    const { objProp, dataType, ruleValue, objPropKey } = validateParams
    let tmp = this.valueDeterminator(objProp, dataType)
    if (tmp >= ruleValue) return true
    throw new Error(`${objPropKey} is lesser than minimum value`)
  }

  maxCheck = (validateParams) => {
    const { objProp, dataType, objPropKey, ruleValue } = validateParams
    if (this.valueDeterminator(objProp, dataType, objPropKey) &lt;= ruleValue)
      return true
    throw new Error(`${objPropKey} is bigger than maximum value`)
  }

  checkMinMaxTest = (val) => {
    return () => {
      // const {objProp, dataType, ruleValue, objPropKey} = validateParams;
      // let tmp = this.valueDeterminator(objProp, dataType)
      // if(tmp >= ruleValue) return true;
      // throw new Error(`${objPropKey} is lesser than minimum value`);
      // Value determinator
    }
  }

  /**
   *sdelati pezdato
   * @param obj
   * @returns {boolean}
   */
  validate(obj) {
    const { rules, args } = obj
    for (let objPropKey in rules) {
      for (let ruleValueKey of Object.keys(rules[objPropKey])) {
        if (
          rules[objPropKey][ruleValueKey] === false ||
          rules[objPropKey][ruleValueKey] === true
        )
          continue
        let validateParams = {
          objProp: args[objPropKey],
          objPropKey,
          ruleValue: rules[objPropKey][ruleValueKey],
          dataType: rules[objPropKey]['dataType']
        }
        this.validatorFunctions[ruleValueKey](validateParams)
      }
    }
    return true
  }
}

export default new Validator()
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Mon Oct 26 2020 13:27:30 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
